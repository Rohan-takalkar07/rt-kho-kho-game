<!DOCTYPE html>
<html>
<head>
  <title>Kho Kho Team Setup - Step 2</title>
  <link rel="stylesheet" href="team2.css" />
</head>
<body>
  <div class="container">
    <div class="createTeam">Create Team</div>
    <h4>Set up a new Kho Kho</h4>
    <hr/>
    <div class="step-bar">
      <div class="step" onclick="window.location.href='team.html'"><span class="circle">1</span>Team Details</div>
      <div class="step active" onclick="window.location.href='team2.html'"><span class="circle">2</span> Create Staff</div>
      <div class="step" onclick="window.location.href='team3.html'"><span class="circle">3</span>Assign Staff</div>
      <div class="step" onclick="window.location.href='team4.html'"><span class="circle">4</span>Add Players</div>
    </div>

    <div class="staff-form">
      <select id="staffSelect">
        <option value="">Select Staff</option>
        <option>Sandeep Patil</option>
        <option>Ajay Kulkarni</option>
      </select>

      <select id="roleSelect">
        <option value="">Assign Role</option>
        <option>Head Coach</option>
        <option>Coach</option>
        <option>Manager</option>
      </select>

      <button class="assign" onclick="assignStaff()">+ Assign</button>
    </div>

    <ul class="staff-list" id="staffList">
    </ul>

    <a href="javascript:void(0)" class="add-staff" onclick="addStaff()">+ Add Staff</a>

    <div class="button-row">
      <button type="button" class="cancel" onclick="window.location.href='./team.html'">Back</button>
      <button type="button" class="next" onclick="window.location.href='./team3.html'">Next</button>
    </div>
  </div>

  <script>
  function assignStaff() {
    const staff = document.getElementById('staffSelect').value;
    const role = document.getElementById('roleSelect').value;

    if (!staff || !role) {
      alert('Please select both staff and role.');
      return;
    }

    const li = document.createElement('li');
    li.innerHTML = `${staff} | ${role} <span class="actions"> ğŸ—‘ï¸</span>`;

    // Delete functionality
    li.querySelector('.actions').addEventListener('click', function(e) {
      if (e.target.textContent.includes('ğŸ—‘ï¸')) {
        li.remove();
      }
      // Edit functionality placeholder
      //if (e.target.textContent.includes('âœï¸')) {
        //const newRole = prompt("Enter new role:", role);
        //if (newRole) {
         // li.innerHTML = `${staff} | ${newRole} <span class="actions">âœï¸ ğŸ—‘ï¸</span>`;
        //}
      //}
    });

    document.getElementById('staffList').appendChild(li);

    // Reset selects
    document.getElementById('staffSelect').value = '';
    document.getElementById('roleSelect').value = '';
  }

  function addStaff() {
    // Create a blank entry with edit/delete icons
    const li = document.createElement('li');
    li.innerHTML = `New Staff | Role <span class="actions">ğŸ—‘ï¸</span>`;

    li.querySelector('.actions').addEventListener('click', function(e) {
      if (e.target.textContent.includes('ğŸ—‘ï¸')) {
        li.remove();
      }
      if (e.target.textContent.includes('âœï¸')) {
        const newName = prompt("Enter staff name:", "New Staff");
        const newRole = prompt("Enter staff role:", "Role");
        if (newName && newRole) {
          li.innerHTML = `${newName} | ${newRole} <span class="actions"> ğŸ—‘ï¸</span>`;
        }
      }
    });

    document.getElementById('staffList').appendChild(li);
  }
</script>

</body>
</html>
