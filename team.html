<!DOCTYPE html>
<html>

<head>
  <title>Kho Kho Team Setup - Step 1</title>
  <link rel="stylesheet" href="team.css" />
</head>

<body>
  <div class="container">
    <div class="createTeam">Create Team</div>
    <h4>Set up a new Kho Kho Team</h4>
    <hr />
    <div class="step-bar">
      <div class="step active" onclick="window.location.href='team.html'"><span class="circle">1</span> Team Details
      </div>
      <div class="step" onclick="window.location.href='team2.html'"><span class="circle">2</span>Create Staff</div>
      <div class="step" onclick="window.location.href='team3.html'"><span class="circle">3</span>Assign Staff</div>
      <div class="step" onclick="window.location.href='team4.html'"><span class="circle">4</span>Add Players</div>
    </div>


    <div class="form-item">
      <label>Team Name*</label>
      <input type="text" class="teamName" placeholder="Enter team name" required />
    </div>
    <form class="form-grid">
      <div class="form-item">
        <label>Team Short Name*</label>
        <input type="text" placeholder="2â€“5 characters only" maxlength="5" required />
      </div>
      <div class="form-item">
        <label>Colour</label>
        <div style="display: flex; gap: 10px;">
          <select id="colorSelect" onchange="toggleColorInput('colorSelect', 'customColorInput')" style="flex: 1;">
            <option value="">Select colour</option>
            <option value="Red">Red</option>
            <option value="Blue">Blue</option>
            <option value="Green">Green</option>
            <option value="Yellow">Yellow</option>
            <option value="Orange">Orange</option>
            <option value="Purple">Purple</option>
            <option value="Pink">Pink</option>
            <option value="Black">Black</option>
            <option value="White">White</option>
            <option value="Customize">Customize (Color Chart)</option>
          </select>
          <input type="color" id="customColorInput"
            style="display: none; width: 50px; height: 50px; padding: 0; border: none; border-radius: 5px; cursor: pointer;"
            value="#ff0000">
        </div>
      </div>
      <div class="form-item">
        <label>State</label>
        <select id="stateSelect" onchange="toggleOtherInput('stateSelect', 'otherStateInput', 'citySelect')">
          <option value="">Select State</option>
        </select>
        <input type="text" id="otherStateInput" placeholder="Enter State Name"
          style="display: none; margin-top: 10px;" />
      </div>
      <div class="form-item">
        <label>City</label>
        <div style="display: flex; gap: 10px;">
          <select id="citySelect" onchange="toggleOtherInput('citySelect', 'otherCityInput')">
            <option value="">Select city</option>
          </select>
          <button type="button" onclick="saveNewCity()"
            style="width: auto; padding: 0 15px; background: #f97316; color: white; border: none; border-radius: 5px; cursor: pointer; display: none;"
            id="saveCityBtn">Save</button>
        </div>
        <input type="text" id="otherCityInput" placeholder="Enter City Name" style="display: none; margin-top: 10px;"
          oninput="document.getElementById('saveCityBtn').style.display = (this.value ? 'block' : 'none')" />
      </div>
      <div class="form-item">
        <label>Gender</label>
        <select>
          <option value="">Select gender</option>
          <option>Male</option>
          <option>Female</option>
          <option>Other</option>
        </select>
      </div>
      <div class="form-item">
        <label>Section (Age Group)</label>
        <select>
          <option value="">Select section</option>
          <option>U14</option>
          <option>U18</option>
          <option>Open</option>
        </select>
      </div>
    </form>

    <div class="button-row">
      <button type="button" class="cancel" onclick="window.location.href='dashboard.html'">Cancel</button>
      <button type="button" class="next" onclick="window.location.href='team2.html'">Next</button>
    </div>
  </div>
  </div>
  <script src="renderer/js/state_city_data.js"></script>
  <script src="renderer/js/state_city_validation.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      populateStates('stateSelect');
    });

    function saveNewCity() {
      const state = document.getElementById('stateSelect').value;
      const city = document.getElementById('otherCityInput').value.trim();
      if (state && city && state !== 'Other') {
        if (addCityToState(state, city)) {
          populateCities('stateSelect', 'citySelect');
          document.getElementById('citySelect').value = city;
          document.getElementById('otherCityInput').style.display = 'none';
          document.getElementById('saveCityBtn').style.display = 'none';
        }
      } else if (state === 'Other') {
        alert("Please select or enter a standard state first to save a city to it.");
      }
    }
  </script>
</body>

</html>